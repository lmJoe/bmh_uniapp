(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Home-index"],{"0c8f":function(t,e,n){var a=n("afaa");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("ed540e14",a,!0,{sourceMap:!1,shadowMode:!1})},"2a9c":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"tabs"},[n("v-uni-scroll-view",{staticClass:"scroll-h",attrs:{id:"tab-bar","scroll-x":!0,"show-scrollbar":!1,"scroll-into-view":t.scrollInto}},t._l(t.tabBars,(function(e,a){return n("v-uni-view",{key:e.Channel_Id,staticClass:"uni-tab-item",attrs:{id:e.id,"data-current":a},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ontabtap.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"uni-tab-item-title",class:t.tabIndex==a?"uni-tab-item-title-active":""},[t._v(t._s(e.ChannelName))])],1)})),1),n("v-uni-view",{staticClass:"line-h"}),n("v-uni-swiper",{staticClass:"swiper-box",staticStyle:{flex:"1"},attrs:{current:t.tabIndex,duration:300},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.ontabchange.apply(void 0,arguments)}}},t._l(t.newsList,(function(e,a){return n("v-uni-swiper-item",{key:a,staticClass:"swiper-item"},[n("v-uni-scroll-view",{staticClass:"scroll-v list",attrs:{enableBackToTop:"true","scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore(a)}}},[t._l(e.data,(function(e,a){return n("v-uni-view",{key:e.id},[n("media-item",{attrs:{options:e},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetail(e)}}})],1)})),e.isLoading||e.data.length>4?n("v-uni-view",{staticClass:"loading-more"},[n("v-uni-text",{staticClass:"loading-more-text"},[t._v(t._s(e.loadingText))])],1):t._e()],2)],1)})),1)],1)},o=[]},"36f7":function(t,e,n){"use strict";var a=n("0c8f"),i=n.n(a);i.a},"3b17":function(t,e,n){"use strict";var a=n("4ea4");n("99af"),n("4160"),n("c975"),n("d81d"),n("a434"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5530")),o=n("3642"),r=n("5e11"),s=a(n("424c")),c=100,l=3,d={components:{mediaItem:s.default},data:function(){return{newsList:[],cacheTab:[],tabIndex:0,tabBars:[],scrollInto:"",showTips:!1,navigateFlag:!1,pulling:!1,pageIndex:1,pageSize:10,channelId:""}},onLoad:function(){var t=this;setTimeout((function(){t.tabBars.forEach((function(e){t.newsList.push({data:[],isLoading:!1,refreshText:"",loadingText:"加载更多..."})})),t.getList(0)}),1e3)},mounted:function(){this.getChannelList()},onPullDownRefresh:function(){console.log("onPullDownRefresh"),uni.stopPullDownRefresh()},methods:{getChannelList:function(){var t=this;(0,o.getChannelList)((function(e){if(1==e.code){var n=e.data;n=n.map((function(t,e){return(0,i.default)((0,i.default)({},t),{},{id:"ID"+e})})),t.tabBars=n,t.channelId=e.data[0].Channel_Id}}))},getList:function(t){var e=this;console.log(t),(0,o.getVideoList)(this.pageIndex,this.pageSize,this.channelId,(function(n){if(console.log(n),1==n.code){var a=n.data;for(var i in a)a[i].Duration=(0,r.changeHourMinutestr)(a[i].Duration),a[i].CoverImgs=a[i].CoverImgs.replace("baomihua","pomoho"),a[i].HeadImg=a[i].HeadImg.replace("baomihua","pomoho");var o=e.newsList[t];o.data=o.data.concat(a),console.log("this.newsList",e.newsList)}}))},goDetail:function(t){var e=this;this.navigateFlag||(this.navigateFlag=!0,uni.navigateTo({url:"../../mainHome/pages/detail?id="+t.Video_ID}),setTimeout((function(){e.navigateFlag=!1}),200))},close:function(t,e){var n=this;uni.showModal({content:"是否删除本条信息？",success:function(a){a.confirm&&n.newsList[t].data.splice(e,1)}})},loadMore:function(t){var e=this;setTimeout((function(){e.pageIndex=e.pageIndex+1,e.getList(e.tabIndex)}),500)},ontabtap:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.switchTab(e)},ontabchange:function(t){var e=t.target.current||t.detail.current;this.switchTab(e)},switchTab:function(t){if(0===this.newsList[t].data.length)for(var e in this.tabBars)Number(e)==t&&(this.channelId=this.tabBars[e].Channel_Id,this.getList(t));if(this.tabIndex!==t){if(this.newsList[this.tabIndex].data.length>c){var n=this.cacheTab.indexOf(this.tabIndex);n<0&&this.cacheTab.push(this.tabIndex)}if(this.tabIndex=t,this.scrollInto=this.tabBars[t].id,console.log("this.scrollInto",this.scrollInto),this.cacheTab.length>l){var a=this.cacheTab[0];this.clearTabData(a),this.cacheTab.splice(0,1)}}},clearTabData:function(t){this.newsList[t].data.length=0,this.newsList[t].loadingText="加载更多..."},refreshData:function(){},onrefresh:function(t){var e=this,n=this.newsList[this.tabIndex];n.refreshFlag&&(n.refreshing=!0,n.refreshText="正在刷新...",setTimeout((function(){e.refreshData(),e.pulling=!0,n.refreshing=!1,n.refreshFlag=!1,n.refreshText="已刷新",setTimeout((function(){e.pulling=!1}),500)}),2e3))},onpullingdown:function(t){var e=this.newsList[this.tabIndex];e.refreshing||this.pulling||(Math.abs(t.pullingDistance)>Math.abs(t.viewHeight)?(e.refreshFlag=!0,e.refreshText="释放立即刷新"):(e.refreshFlag=!1,e.refreshText="下拉可以刷新"))},newGuid:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return(t()+t()+"-"+t()+"-4"+t().substr(0,3)+"-"+t()+"-"+t()+t()+t()).toUpperCase()}}};e.default=d},ae03:function(t,e,n){"use strict";n.r(e);var a=n("2a9c"),i=n("e742");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("36f7");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"0fcbd7f8",null,!1,a["a"],r);e["default"]=c.exports},afaa:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-0fcbd7f8]{width:100%;min-height:100%;display:flex}\n.tabs[data-v-0fcbd7f8]{flex:1;flex-direction:column;overflow:hidden;background-color:#fff;\nheight:100vh\n}.scroll-h[data-v-0fcbd7f8]{width:%?750?%;\nwidth:100%;\nheight:%?80?%;flex-direction:row;\nwhite-space:nowrap\n\n  /* flex-wrap: nowrap; */\n  /* border-color: #cccccc;\n    \tborder-bottom-style: solid;\n    \tborder-bottom-width: 1px; */}.line-h[data-v-0fcbd7f8]{height:%?1?%;background-color:#ccc}.uni-tab-item[data-v-0fcbd7f8]{\ndisplay:inline-block;\nflex-wrap:nowrap;padding-left:%?31?%;padding-right:%?31?%}.uni-tab-item-title[data-v-0fcbd7f8]{font-weight:700;color:#202020;font-size:%?32?%;height:%?80?%;line-height:%?80?%;flex-wrap:nowrap;\nwhite-space:nowrap\n}.uni-tab-item-title-active[data-v-0fcbd7f8]{color:#ea1c24;font-size:%?38?%}.swiper-box[data-v-0fcbd7f8]{flex:1}.swiper-item[data-v-0fcbd7f8]{flex:1;flex-direction:row}.scroll-v[data-v-0fcbd7f8]{flex:1;\nflex-direction:column;\nwidth:%?750?%;width:100%}.update-tips[data-v-0fcbd7f8]{position:absolute;left:0;top:41px;right:0;padding-top:5px;padding-bottom:5px;background-color:#fddd9b;align-items:center;justify-content:center;text-align:center}.update-tips-text[data-v-0fcbd7f8]{font-size:14px;color:#fff}.refresh[data-v-0fcbd7f8]{width:%?750?%;width:100%;height:64px;justify-content:center}.refresh-view[data-v-0fcbd7f8]{flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:center}.refresh-icon[data-v-0fcbd7f8]{width:30px;height:30px;transition-duration:.5s;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:15px 15px;transform-origin:15px 15px}.refresh-icon-active[data-v-0fcbd7f8]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.loading-icon[data-v-0fcbd7f8]{width:20px;height:20px;margin-right:5px;color:#999}.loading-text[data-v-0fcbd7f8]{margin-left:2px;font-size:16px;color:#999}.loading-more[data-v-0fcbd7f8]{align-items:center;justify-content:center;padding-top:10px;padding-bottom:10px;text-align:center}.loading-more-text[data-v-0fcbd7f8]{font-size:%?28?%;color:#999}",""]),t.exports=e},e742:function(t,e,n){"use strict";n.r(e);var a=n("3b17"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a}}]);