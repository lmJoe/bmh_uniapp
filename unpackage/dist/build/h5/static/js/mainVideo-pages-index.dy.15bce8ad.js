(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mainVideo-pages-index.dy"],{"06a5":function(t,i,e){"use strict";e.r(i);var a=e("3384"),o=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=o.a},3384:function(t,i,e){"use strict";e("e25e"),e("ac1f"),e("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("3642"),o=e("5e11"),n=getApp(),s={data:function(){return{customBarHeight:n.globalData.customBarH,navbarBgcolor:"#21252b",tabbarBgcolor:"#21252b",tabNavLs:[{label:"附近动态",badge:5,lists:[]},{label:"关注",lists:[]},{label:"推荐",dot:!0,lists:[]}],currentTab:0,pageIndex:1,pageSize:10,currentVideo:0,videoList:[],isPlaying:!1,clickNum:0,progressBar:0,clickTimer:null,winWidth:"",winHeight:"",popupGoodsList:[],showGoodsPopup:!1,showReplyPopup:!1,showSharePopup:!1,videosuList:["https://test-static01.pomoho.com/aaa.mp4","https://test-static01.pomoho.com/videoSc/1.mp4","https://test-static01.pomoho.com/videoSc/2.mp4","https://test-static01.pomoho.com/videoSc/3.mp4","https://test-static01.pomoho.com/videoSc/4.mp4","https://test-static01.pomoho.com/videoSc/5.mp4","https://test-static01.pomoho.com/videoSc/6.mp4","https://test-static01.pomoho.com/videoSc/7.mp4"],attentYes:"https://test-static01.pomoho.com/videoSc/icon1.png",attentNo:"https://test-static01.pomoho.com/videoSc/icon2.png"}},watch:{currentTab:function(t){this.changeTabPanel(t)}},computed:{customBarMargin:function(){return"margin-top: ".concat(this.customBarHeight,"px")}},onLoad:function(){uni.getSyste},created:function(){var t=uni.getSystemInfoSync(),i=750/t.windowWidth,e=t.statusBarHeight*i,a=44*i,o=(t.windowWidth,t.windowHeight*i),n=t.screenHeight*i,s=n-e-a-o,l=uni.getSystemInfoSync().windowWidth;uni.getSystemInfoSync().windowHeight;this.winWidth="".concat(l,"px"),this.winHeight="".concat(o-s,"px")},mounted:function(){console.log("this.attentYes",this.attentYes),console.log("this.attentNo",this.attentNo),this.getVideoList()},methods:{getVideoList:function(){var t=this;(0,a.getVideoList)(this.pageIndex,this.pageSize,"53ff9daa-a783-4da3-b8c0-587bae0c77ad",(function(i){if(1==i.code){var e=i.data;for(var a in e)e[a].Duration=(0,o.changeHourMinutestr)(e[a].Duration),e[a].CoverImgs=e[a].CoverImgs.replace("baomihua","pomoho"),e[a].HeadImg=e[a].HeadImg.replace("baomihua","pomoho"),e[a].Link=(0,o.getRandomArrayElements)(t.videosuList,1);t.videoList=e,uni.stopPullDownRefresh(),console.log("this.videoList",t.videoList)}}))},handleTimeUpdate:function(t){var i=t.detail,e=i.currentTime,a=i.duration;this.progressBar=parseInt((e/a).toFixed(2)*parseInt(this.winWidth))},handleDynamicMenu:function(t){var i,e=this;i=[t.touches[0].clientX,t.touches[0].clientY],this.$refs.uapopup.open({type:"contextmenu",follow:i,btns:[{text:"不感兴趣"},{text:"复制"},{text:"举报",style:"color:#f00;",click:function(){e.$refs.uapopup.close()}}]})},getVideoCtx:function(){return uni.createVideoContext("vdplayer"+this.currentVideo,this)},handleSwipeVertical:function(t){var i=t.detail.current;this.progressBar=0,this.isPlaying=!1;var e=this.getVideoCtx();e&&(e.pause(),e.seek(0),this.currentVideo=i,this.handlePlay())},handlePlay:function(){var t=this.getVideoCtx();t&&(t.play(),this.isPlaying=!0)},handlePause:function(){var t=this.getVideoCtx();t&&(t.pause(),this.isPlaying=!1)},handleVideoClicked:function(){var t=this;this.clickTimer&&clearTimeout(this.clickTimer),this.clickNum++,this.clickTimer=setTimeout((function(){t.clickNum>=2?console.log("你双击了"):(console.log("你单击了"),t.isPlaying?t.handlePause():t.handlePlay()),t.clickNum=0}),250)},handleFollow:function(t){this.videoList[t].IsOriginal=2}}};i.default=s},4146:function(t,i,e){"use strict";e.r(i);var a=e("febb"),o=e("06a5");for(var n in o)"default"!==n&&function(t){e.d(i,t,(function(){return o[t]}))}(n);e("f5a6");var s,l=e("f0c5"),d=Object(l["a"])(o["default"],a["b"],a["c"],!1,null,"35f8517d",null,!1,a["a"],s);i["default"]=d.exports},eefe:function(t,i,e){var a=e("f2f33");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("4f06").default;o("3ef6d638",a,!0,{sourceMap:!1,shadowMode:!1})},f2f33:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".uni-padding-wrap[data-v-35f8517d]{padding:0;margin:0;display:flex;\n  /* 主轴方向为垂直方向,起点在上方 */flex-direction:column;width:100%;height:100vh}.videoItem[data-v-35f8517d]{width:100%}.videoItem .ua__vdplayer-video[data-v-35f8517d]{height:100%;position:relative}.videoItem .ua__vdplayer-playwrap[data-v-35f8517d]{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:100%;height:100%}.videoItem .ua__vdplayer-playwrap .playerIcon[data-v-35f8517d]{width:%?107?%;height:%?107?%}.videoItem .ua__vdplayer-info[data-v-35f8517d]{width:100%;position:absolute;bottom:0;left:0}.videoItem .ua__vdplayer-info .vdinfo__left[data-v-35f8517d]{background:linear-gradient(0deg,#000,hsla(0,0%,100%,0));position:absolute;bottom:0;left:0;width:100%;color:#fff;text-align:left;padding-left:%?34?%}.videoItem .ua__vdplayer-info .vdinfo__left .uname[data-v-35f8517d]{font-size:%?38?%}.videoItem .ua__vdplayer-info .vdinfo__left .ltitem[data-v-35f8517d]{font-size:%?30?%;margin:%?20?% 0}.videoItem .ua__vdplayer-info .vdinfo__right[data-v-35f8517d]{position:absolute;bottom:%?500?%;right:%?14?%;width:%?107?%}.videoItem .ua__vdplayer-info .vdinfo__right .uimg[data-v-35f8517d]{width:%?107?%;height:%?107?%;border-radius:50%}.videoItem .ua__vdplayer-info .vdinfo__right .attentBtn[data-v-35f8517d]{position:absolute;bottom:%?-7?%;left:0;right:0;margin:auto;width:%?40?%;height:%?40?%;z-index:100}.savepadding[data-v-35f8517d]{position:fixed;bottom:var(--window-bottom)}",""]),t.exports=i},f5a6:function(t,i,e){"use strict";var a=e("eefe"),o=e.n(a);o.a},febb:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"ua__tabcnt-recommends"},[e("v-uni-swiper",{staticClass:"ua__vdplayer-swiper flex1 uni-padding-wrap savepadding ",attrs:{current:t.currentVideo,vertical:!0},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.handleSwipeVertical.apply(void 0,arguments)}}},t._l(t.videoList,(function(i,a){return e("v-uni-swiper-item",{key:a,staticClass:"videoItem"},[e("v-uni-view",{staticClass:"ua__vdplayer-video flex1"},[e("v-uni-video",{ref:"vdplayer"+a,refInFor:!0,staticClass:"vdplayer",style:{width:t.winWidth,height:t.winHeight},attrs:{id:"vdplayer"+a,src:i.Link,controls:!1,loop:!0,"show-center-play-btn":!1,autoplay:a==t.currentVideo},on:{play:function(i){arguments[0]=i=t.$handleEvent(i),t.isPlaying=!0},timeupdate:function(i){arguments[0]=i=t.$handleEvent(i),t.handleTimeUpdate.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"ua__vdplayer-playwrap",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleVideoClicked.apply(void 0,arguments)}}},[t.isPlaying?t._e():e("v-uni-view",{staticClass:"ua__vdplayer-playbtn"},[e("v-uni-image",{staticClass:"playerIcon",attrs:{src:"https://test-static01.pomoho.com/liming/images/home/playicon.png"}})],1)],1)],1),e("v-uni-view",{staticClass:"ua__vdplayer-info flexbox flex-col"},[e("v-uni-view",{staticClass:"flexbox flex-row flex-alignb"},[e("v-uni-view",{staticClass:"vdinfo__left flex1"},[e("v-uni-navigator",{staticClass:"flexbox flex-alignc flex-row",attrs:{url:"#"}},[e("v-uni-text",{staticClass:"uname"},[t._v("@"+t._s(i.NickName))])],1),e("v-uni-view",{staticClass:"ltitem"},[e("v-uni-text",{staticClass:"desc"},[t._v(t._s(i.Title))])],1)],1),e("v-uni-view",{staticClass:"vdinfo__right flexbox flex-col"},[e("v-uni-view",{staticClass:"ltitem uavatar flexbox flex-row"},[e("v-uni-navigator",{staticClass:"flexbox flex-alignc flex-row",attrs:{url:"#"}},[e("v-uni-image",{staticClass:"uimg",attrs:{src:i.HeadImg}})],1),e("v-uni-view",{staticClass:"flexbox attentBtn",class:{actived:i.isFollow},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleFollow(a)}}},[e("v-uni-image",{staticStyle:{width:"40rpx",height:"40rpx"},attrs:{src:1==i.IsOriginal?t.attentYes:t.attentNo}})],1)],1)],1)],1)],1)],1)})),1),e("v-uni-view",{staticClass:"ua__vdplayer-progress"},[e("v-uni-view",{staticClass:"bar",style:{width:t.progressBar+"px"}})],1)],1)},n=[]}}]);