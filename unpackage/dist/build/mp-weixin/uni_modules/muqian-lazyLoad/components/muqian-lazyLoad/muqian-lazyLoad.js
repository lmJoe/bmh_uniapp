"use strict";var t=require("../../../../common/vendor.js");let e=null;const i={name:"muqian-lazyLoad",props:{borderRadius:{type:String,default:"0"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},src:{type:String,default:""},minTimeOut:{type:String||Number,default:"300"},showDistance:{type:Object,default:()=>{}},effect:{type:String,default:"linear"},duration:{type:String||Number,default:"300"},loadSrc:{type:String,default:"/uni_modules/muqian-lazyLoad/static/loading.png"},errorSrc:{type:String,default:"/uni_modules/muqian-lazyLoad/static/loadFail.png"}},data:()=>({status:0,isShow:!1}),watch:{src(){this.isShow&&(this.status=0,this.isShow=!1,this.$nextTick((()=>{this.status=1})))}},destroyed(){this.$emit("destroyed")},methods:{load(){if(0==this.minTimeOut)this.isShow=!0;else{let t=(new Date).getTime()-e;t<this.minTimeOut?setTimeout((()=>{this.isShow=!0}),this.minTimeOut-t):this.isShow=!0}setTimeout((()=>{this.$emit("showSuccess")}),this.duration)},error(){this.status=2,this.isShow=!0},init(){let i=t.index.createIntersectionObserver(this),s=!1;i.relativeToViewport(this.showDistance).observe(".muqain-load",(t=>{s||0!=t.intersectionRatio?(this.$emit("show"),s=!0,this.status=1,e=(new Date).getTime(),i.disconnect()):s=!0}))}}};var s=t._export_sfc(i,[["render",function(e,i,s,a,r,o){return t.e({a:s.loadSrc,b:t.o(((...t)=>o.init&&o.init(...t))),c:r.isShow?"0":"1",d:s.borderRadius,e:s.width,f:s.height,g:`opacity ${s.duration/1e3}s ${s.effect}`,h:1==r.status},1==r.status?{i:t.o(((...t)=>o.load&&o.load(...t))),j:t.o(((...t)=>o.error&&o.error(...t))),k:s.src,l:r.isShow?"1":"0",m:s.borderRadius,n:s.width,o:s.height,p:`opacity ${s.duration/1e3}s ${s.effect}`}:{},{q:2==r.status},2==r.status?{r:s.errorSrc,s:r.isShow?"1":"0",t:s.borderRadius,v:s.width,w:s.height,x:`opacity ${s.duration/1e3}s ${s.effect}`}:{},{y:s.width,z:s.height})}],["__scopeId","data-v-20320daf"]]);wx.createComponent(s);
