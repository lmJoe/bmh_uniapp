"use strict";var e=require("../../../../common/vendor.js"),t=require("../../../../utils/request.js"),i=require("../../../../utils/untis.js");require("../../../../utils/ajax.js"),require("../../../../utils/api.js");const a={components:{videoItem:()=>"../../../../components/video.js",lazyLoad:()=>"../../../../uni_modules/muqian-lazyLoad/components/muqian-lazyLoad/muqian-lazyLoad.js"},data:()=>({Video_ID:"",data:"",listData:[],last_id:"",reload:!1,status:"more",pageIndex:1,pageSize:10,adpid:"",channelId:"ad11e330-76ae-4c19-818c-6b7a133a5365",contentText:{contentdown:"上拉加载更多",contentrefresh:"加载中",contentnomore:"没有更多"}}),mounted(){this.getVideoInfo()},onLoad(e){this.Video_ID=e.id||"",this.adpid=this.$adpid,this.getVideoList()},onReachBottom(){this.status="more",this.getVideoList()},methods:{getVideoInfo(){t.getVideoInfo(this.Video_ID,(e=>{console.log(e),1==e.code&&(this.data=e.data,console.log(e.data),this.getvideourl(e.data.Video_ID))}))},getvideourl(e){},getVideoList(){this.last_id&&(this.status="loading",this.minId=this.last_id,this.pageIndex=this.pageIndex+1),t.getVideoList(this.pageIndex,this.pageSize,this.channelId,(e=>{if(1==e.code){e.data;let t=this.setTime(e.data);this.listData=this.reload?t:this.listData.concat(t),this.last_id=t[t.length-1].id,this.reload=!1}}))},goDetail:function(t){let a={author_name:t.NickName,cover:t.CoverImgs.replace("baomihua","pomoho"),id:t.Video_ID,post_id:t.PlayId,published_at:i.changeHourMinutestr(t.Duration),title:t.Title};e.index.navigateTo({url:"../list2detail-detail/list2detail-detail?detailDate="+encodeURIComponent(JSON.stringify(a))})},setTime:function(e){var t=[];return e.forEach((e=>{t.push({author_name:e.NickName,cover:e.CoverImgs.replace("baomihua","pomoho"),id:e.Video_ID,post_id:e.PlayId,published_at:i.changeHourMinutestr(e.Duration),title:e.Title})})),t},aderror(e){console.log("aderror: "+JSON.stringify(e.detail))}}};if(!Array){(e.resolveComponent("video-item")+e.resolveComponent("lazyLoad")+e.resolveComponent("uni-load-more"))()}Math;var o=e._export_sfc(a,[["render",function(t,i,a,o,s,d){return{a:e.p({data:s.data}),b:e.o((e=>d.goDetail(t.banner))),c:e.f(s.listData,((t,i,a)=>({a:"4c17509c-1-"+a,b:e.p({src:t.cover,height:"160rpx",borderRadius:"",mode:"scaleToFill"}),c:e.t(t.title),d:e.t(t.author_name),e:e.t(t.published_at),f:e.o((e=>d.goDetail(t))),g:i}))),d:e.p({status:s.status,"icon-size":16,"content-text":s.contentText})}}],["__scopeId","data-v-4c17509c"]]);wx.createPage(o);
