"use strict";var e=require("../common/vendor.js"),t=require("./ajax.js"),n=require("./api.js"),i=require("./untis.js");exports.getChannelList=function(i){let o={appKey:n.URL.appkey};t.request(n.URL.getChannelList,o,{ContentType:"application/x-www-form-urlencoded"},"POST").then((e=>{i(e)})).catch((t=>{e.index.showToast({title:t,icon:"none"})}))},exports.getVideoInfo=function(i,o){e.index.showLoading({title:"加载中..."});var a={videoId:i,date:parseInt((new Date).getTime())};t.request(n.URL.getVideoInfo,a,{ContentType:"application/x-www-form-urlencoded"},"GET").then((t=>{e.index.hideLoading(),o(t)})).catch((t=>{e.index.hideLoading(),e.index.showToast({title:t,icon:"none"})}))},exports.getVideoList=function(o,a,d,p){e.index.showLoading({title:"加载中..."});let r=parseInt((new Date).getTime()/1e3),s=i.getRandomNum(5,50);var c={appKey:n.URL.appkey,pageSize:a,pageIndex:o,channelId:d,ts:r,rd:s,tk:e.Md5(`${r}_${s}_${n.URL.appkey}_${a}`).toUpperCase()};t.request(n.URL.getVideoList,c,{ContentType:"application/x-www-form-urlencoded"},"POST").then((t=>{e.index.hideLoading(),p(t)})).catch((t=>{e.index.hideLoading(),e.index.showToast({title:t,icon:"none"})}))};
